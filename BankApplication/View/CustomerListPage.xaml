<Page
    x:Class="BankApplication.CustomerListPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:BankApplication"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    
    

    <Grid
        x:Name="LayoutRoot"
        Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <RelativePanel>

            <TextBlock
                x:Name="PageTitle"
                Text="Customers"
                Margin="2, 2"/>

            <!--
                On Windows 10, version 1607 or later, set DefaultLabelPosition to Right in code.
                See CommandBar_Loaded event handler.
            -->
            <CommandBar
                x:Name="mainCommandBar"
                HorizontalAlignment="Stretch"
                Background="Transparent"
                Loaded="CommandBar_Loaded"
                DefaultLabelPosition="Right"
                RelativePanel.LeftOf="CustomerSearchBox"
                RelativePanel.RightOf="PageTitle">
                <AppBarButton
                    Click="ViewDetails_Click"
                    Icon="Contact"
                    Label="View details"
                    ToolTipService.ToolTip="View details" />
                <AppBarButton
                    Click="AddAccount_Click"
                    Icon="Shop"
                    Label="Add account"
                    ToolTipService.ToolTip="Add account" />
                <AppBarSeparator />
                <AppBarButton
                    Click="CreateCustomer_Click"
                    Icon="Add"
                    Label="New"
                    ToolTipService.ToolTip="New customer" />
            </CommandBar>

            <AutoSuggestBox
                x:Name="CustomerSearchBox"
                Width="240"
                Margin="12,4,12,0"
                Loaded="CustomerSearchBox_Loaded"
                RelativePanel.AlignRightWithPanel="True" />

            <Grid
                Margin="0,15,0,0"
                RelativePanel.AlignLeftWithPanel="True"
                RelativePanel.AlignRightWithPanel="True"
                RelativePanel.Below="PageTitle">

                <ListView 
                    x:Name="CustomerList"
                    ItemsSource="{x:Bind ViewModel.Customers}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="local:Customer">
                            <TextBlock Text="{x:Bind Summary}"/>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>

                
            </Grid>
        </RelativePanel>
    </Grid>
</Page>
